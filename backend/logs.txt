2025-02-26 23:12:59 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:12:59 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:16:00 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:16:00 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:18:35 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:18:35 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:18:39 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:19:43 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:19:43 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:19:45 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:19:57 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:19:57 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:19:58 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:20:04 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:20:04 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:20:05 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:20:48 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:20:48 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:20:50 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:20:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:20:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:20:53 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:21:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:21:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:21:38 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:22:16 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:16 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:18 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:22:19 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:19 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:20 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:22:28 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:28 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:30 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:22:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:52 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:22:54 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:54 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:22:56 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:23:56 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:23:56 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:23:57 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:24:23 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:24:23 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:24:24 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:26:09 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:26:09 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:26:11 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:26:22 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:26:22 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:26:23 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:27:07 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:27:07 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:27:08 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:27:09 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:27:09 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:27:10 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:28:01 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:28:01 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:28:02 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:28:04 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:28:04 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:28:05 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:29:05 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:29:05 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:29:07 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:29:19 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:29:19 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:29:21 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:29:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:29:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:29:38 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:30:40 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:30:40 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:30:42 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:30:43 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:30:43 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:30:44 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:31:48 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:31:48 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:31:50 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:31:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:31:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:31:52 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:31:58 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:31:58 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:31:59 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:32:01 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:32:01 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:32:02 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:32:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:32:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:32:38 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:32:40 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:32:40 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:32:42 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:34:05 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:34:05 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:34:07 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:34:21,948 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:34:21 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:34:21 - ERROR - app.services.service_init - Failed to initialize services: TemplateManager() takes no arguments
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\service_init.py", line 46, in _initialize_services
    'template': TemplateManager(Template),
                ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TemplateManager() takes no arguments
2025-02-26 23:34:24 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:34:24 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:34:25 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:34:40,424 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:34:40 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:34:40 - ERROR - app.services.service_init - Failed to initialize services: TemplateManager() takes no arguments
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\service_init.py", line 46, in _initialize_services
    'template': TemplateManager(Template),
                ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TemplateManager() takes no arguments
2025-02-26 23:35:14 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:35:14 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:35:16 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:35:31,646 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:35:31 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:35:31 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:36:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:36:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:36:15 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:36:24,213 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:36:24 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:36:24 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:37:10 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:37:10 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:37:11 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:37:20,743 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:37:20 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:37:20 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:38:21 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:38:21 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:38:22 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:38:31,915 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:38:31 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:38:31 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:44:01 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:44:01 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:44:03 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:44:13,284 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:44:13 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:44:13 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:46:56 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:46:56 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:46:57 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:47:08,463 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:47:08 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:47:08 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:48:02 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:48:02 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-26 23:48:03 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-26 23:48:13,580 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:48:13 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-26 23:48:13 - INFO - app.services.service_init - All services initialized successfully
2025-02-26 23:48:13 - DEBUG - app - Debug logging enabled
2025-02-26 23:48:13 - DEBUG - app.main - Registered router: Templates
2025-02-26 23:48:13 - DEBUG - app.main - Registered router: Contracts
2025-02-26 23:48:13 - DEBUG - app.main - Registered router: Addendums
2025-02-26 23:48:13 - DEBUG - app.main - Registered router: Statistics
2025-02-26 23:48:14 - DEBUG - app.main - Registered router: Specifications
2025-02-26 23:48:14 - DEBUG - app.main - Registered router: Appendices
2025-02-26 23:48:14 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-26 23:48:14 - DEBUG - app.main - Registered router: Invoices
2025-02-26 23:48:14 - DEBUG - app.main - Registered router: PDF Export
2025-02-26 23:48:14 - DEBUG - app.main - Registered router: Admin
2025-02-26 23:48:14 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 09:41:38 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 09:41:38 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 09:41:42 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 09:42:17,648 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 09:42:17 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 09:42:17 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 09:42:18 - DEBUG - app - Debug logging enabled
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Templates
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Contracts
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Addendums
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Statistics
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Specifications
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Appendices
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Invoices
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 09:42:18 - DEBUG - app.main - Registered router: Admin
2025-02-27 09:42:18 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 09:46:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 09:46:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 09:46:39 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 09:46:58,256 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 09:46:58 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 09:46:58 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 09:46:58 - DEBUG - app - Debug logging enabled
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Templates
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Contracts
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Addendums
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Statistics
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Specifications
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Appendices
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Invoices
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 09:46:58 - DEBUG - app.main - Registered router: Admin
2025-02-27 09:46:58 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 10:04:35 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.057s
2025-02-27 10:04:35 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - [generated in 0.00809s] ()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:04:36 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 1.030s
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - [cached since 0.1321s ago] ()
2025-02-27 10:04:36 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:04:36 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.061s
2025-02-27 10:06:06 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:06:06 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:06:06 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:06:06 - INFO - sqlalchemy.engine.Engine - [cached since 89.91s ago] ()
2025-02-27 10:06:06 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:06:06 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.022s
2025-02-27 10:06:28 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:06:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:06:28 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:06:28 - INFO - sqlalchemy.engine.Engine - [cached since 111.9s ago] ()
2025-02-27 10:06:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:06:28 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 10:07:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:07:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:07:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:07:03 - INFO - sqlalchemy.engine.Engine - [cached since 146.9s ago] ()
2025-02-27 10:07:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:07:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.022s
2025-02-27 10:07:17 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:07:17 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:07:17 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:07:17 - INFO - sqlalchemy.engine.Engine - [cached since 160.9s ago] ()
2025-02-27 10:07:17 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:07:17 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.016s
2025-02-27 10:07:34 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:07:34 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:07:34 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:07:34 - INFO - sqlalchemy.engine.Engine - [cached since 177.6s ago] ()
2025-02-27 10:07:34 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:07:34 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 10:07:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:07:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:07:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:07:48 - INFO - sqlalchemy.engine.Engine - [cached since 191.9s ago] ()
2025-02-27 10:07:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:07:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.017s
2025-02-27 10:12:21 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:12:21 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:12:21 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:12:21 - INFO - sqlalchemy.engine.Engine - [cached since 464.9s ago] ()
2025-02-27 10:12:21 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:12:21 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.033s
2025-02-27 10:19:18 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.017s
2025-02-27 10:19:18 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:19:18 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:19:18 - INFO - sqlalchemy.engine.Engine - [cached since 882.1s ago] ()
2025-02-27 10:19:18 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:19:18 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.146s
2025-02-27 10:19:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:19:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:19:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:19:20 - INFO - sqlalchemy.engine.Engine - [cached since 884s ago] ()
2025-02-27 10:19:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:19:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 10:19:52 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:19:52 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:19:52 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:19:52 - INFO - sqlalchemy.engine.Engine - [cached since 915.9s ago] ()
2025-02-27 10:19:52 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:19:52 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.025s
2025-02-27 10:20:15 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 10:20:15 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:20:15 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:20:15 - INFO - sqlalchemy.engine.Engine - [cached since 938.9s ago] ()
2025-02-27 10:20:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:20:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 10:20:24 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:20:24 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:20:24 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:20:24 - INFO - sqlalchemy.engine.Engine - [cached since 947.6s ago] ()
2025-02-27 10:20:24 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:20:24 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.016s
2025-02-27 10:21:35 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:21:35 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - [cached since 1019s ago] ()
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:35 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - [cached since 1019s ago] ()
2025-02-27 10:21:35 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:35 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 10:21:40 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:21:40 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:40 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:40 - INFO - sqlalchemy.engine.Engine - [cached since 1024s ago] ()
2025-02-27 10:21:40 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:40 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 10:21:43 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 10:21:43 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:43 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:43 - INFO - sqlalchemy.engine.Engine - [cached since 1027s ago] ()
2025-02-27 10:21:43 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:43 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 10:21:44 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:21:44 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:44 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:44 - INFO - sqlalchemy.engine.Engine - [cached since 1028s ago] ()
2025-02-27 10:21:44 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:44 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.045s
2025-02-27 10:21:46 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:21:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:46 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:46 - INFO - sqlalchemy.engine.Engine - [cached since 1030s ago] ()
2025-02-27 10:21:46 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:46 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.017s
2025-02-27 10:21:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:21:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:48 - INFO - sqlalchemy.engine.Engine - [cached since 1032s ago] ()
2025-02-27 10:21:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.017s
2025-02-27 10:21:53 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:21:53 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:53 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:53 - INFO - sqlalchemy.engine.Engine - [cached since 1037s ago] ()
2025-02-27 10:21:53 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:53 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.017s
2025-02-27 10:21:56 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:21:56 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:56 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:56 - INFO - sqlalchemy.engine.Engine - [cached since 1040s ago] ()
2025-02-27 10:21:56 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:56 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.016s
2025-02-27 10:21:57 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:21:57 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:57 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:57 - INFO - sqlalchemy.engine.Engine - [cached since 1041s ago] ()
2025-02-27 10:21:57 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:57 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.015s
2025-02-27 10:21:59 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:21:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:21:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:21:59 - INFO - sqlalchemy.engine.Engine - [cached since 1043s ago] ()
2025-02-27 10:21:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:21:59 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.012s
2025-02-27 10:22:01 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:22:01 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:22:01 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:22:01 - INFO - sqlalchemy.engine.Engine - [cached since 1045s ago] ()
2025-02-27 10:22:01 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:22:01 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 10:22:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:22:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:22:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:22:03 - INFO - sqlalchemy.engine.Engine - [cached since 1047s ago] ()
2025-02-27 10:22:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:22:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.015s
2025-02-27 10:31:41 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.015s
2025-02-27 10:31:41 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:31:41 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:31:41 - INFO - sqlalchemy.engine.Engine - [cached since 1625s ago] ()
2025-02-27 10:31:41 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:31:41 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.178s
2025-02-27 10:31:46 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:31:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:31:46 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:31:46 - INFO - sqlalchemy.engine.Engine - [cached since 1630s ago] ()
2025-02-27 10:31:46 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:31:46 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 10:33:42 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 10:33:42 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:33:42 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:33:42 - INFO - sqlalchemy.engine.Engine - [cached since 1746s ago] ()
2025-02-27 10:33:42 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:33:42 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.073s
2025-02-27 10:33:44 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.007s
2025-02-27 10:33:44 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:33:44 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:33:44 - INFO - sqlalchemy.engine.Engine - [cached since 1748s ago] ()
2025-02-27 10:33:44 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:33:44 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 10:33:45 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:33:45 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:33:45 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:33:45 - INFO - sqlalchemy.engine.Engine - [cached since 1749s ago] ()
2025-02-27 10:33:45 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:33:45 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.034s
2025-02-27 10:33:53 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:33:53 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:33:53 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:33:53 - INFO - sqlalchemy.engine.Engine - [cached since 1757s ago] ()
2025-02-27 10:33:53 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:33:53 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.044s
2025-02-27 10:34:09 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:34:09 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:09 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:09 - INFO - sqlalchemy.engine.Engine - [cached since 1773s ago] ()
2025-02-27 10:34:09 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:09 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 10:34:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:34:14 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:14 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:14 - INFO - sqlalchemy.engine.Engine - [cached since 1778s ago] ()
2025-02-27 10:34:14 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:14 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 10:34:18 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:34:18 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:18 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:18 - INFO - sqlalchemy.engine.Engine - [cached since 1782s ago] ()
2025-02-27 10:34:18 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:18 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.025s
2025-02-27 10:34:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 10:34:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:20 - INFO - sqlalchemy.engine.Engine - [cached since 1784s ago] ()
2025-02-27 10:34:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.039s
2025-02-27 10:34:22 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:34:22 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:22 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:22 - INFO - sqlalchemy.engine.Engine - [cached since 1786s ago] ()
2025-02-27 10:34:22 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:22 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.034s
2025-02-27 10:34:26 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:34:26 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:26 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:26 - INFO - sqlalchemy.engine.Engine - [cached since 1790s ago] ()
2025-02-27 10:34:26 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:26 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 10:34:33 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:34:33 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:33 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:33 - INFO - sqlalchemy.engine.Engine - [cached since 1797s ago] ()
2025-02-27 10:34:33 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:33 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.026s
2025-02-27 10:34:39 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 10:34:39 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:39 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:39 - INFO - sqlalchemy.engine.Engine - [cached since 1803s ago] ()
2025-02-27 10:34:39 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:39 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.029s
2025-02-27 10:34:45 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:34:45 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:34:45 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:34:45 - INFO - sqlalchemy.engine.Engine - [cached since 1809s ago] ()
2025-02-27 10:34:45 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:34:45 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.040s
2025-02-27 10:35:51 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.007s
2025-02-27 10:35:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:35:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:35:51 - INFO - sqlalchemy.engine.Engine - [cached since 1875s ago] ()
2025-02-27 10:35:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:35:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.066s
2025-02-27 10:36:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 10:36:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:36:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:36:03 - INFO - sqlalchemy.engine.Engine - [cached since 1887s ago] ()
2025-02-27 10:36:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:36:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 10:36:07 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:36:07 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:36:07 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:36:07 - INFO - sqlalchemy.engine.Engine - [cached since 1891s ago] ()
2025-02-27 10:36:07 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:36:07 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.022s
2025-02-27 10:36:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 10:36:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:36:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:36:10 - INFO - sqlalchemy.engine.Engine - [cached since 1894s ago] ()
2025-02-27 10:36:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:36:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.039s
2025-02-27 10:36:59 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:36:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:36:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:36:59 - INFO - sqlalchemy.engine.Engine - [cached since 1943s ago] ()
2025-02-27 10:36:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:36:59 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 10:37:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:37:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:37:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:37:20 - INFO - sqlalchemy.engine.Engine - [cached since 1964s ago] ()
2025-02-27 10:37:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:37:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 10:37:34 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 10:37:34 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:37:34 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:37:34 - INFO - sqlalchemy.engine.Engine - [cached since 1978s ago] ()
2025-02-27 10:37:34 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:37:34 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.029s
2025-02-27 10:37:58 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 10:37:58 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:37:58 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:37:58 - INFO - sqlalchemy.engine.Engine - [cached since 2002s ago] ()
2025-02-27 10:37:58 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:37:58 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 10:39:11 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:39:11 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:39:11 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:39:11 - INFO - sqlalchemy.engine.Engine - [cached since 2075s ago] ()
2025-02-27 10:39:11 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:39:11 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 10:45:54 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.065s
2025-02-27 10:45:54 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.010s
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - [cached since 2478s ago] ()
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:45:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.384s
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - [cached since 2478s ago] ()
2025-02-27 10:45:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:45:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.074s
2025-02-27 10:51:27 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.024s
2025-02-27 10:51:27 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - [cached since 2812s ago] ()
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:51:28 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.263s
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - [cached since 2812s ago] ()
2025-02-27 10:51:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:51:28 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.036s
2025-02-27 10:52:28 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 10:52:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:52:28 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:52:28 - INFO - sqlalchemy.engine.Engine - [cached since 2872s ago] ()
2025-02-27 10:52:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:52:28 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 10:52:36 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:52:36 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:52:36 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:52:36 - INFO - sqlalchemy.engine.Engine - [cached since 2880s ago] ()
2025-02-27 10:52:36 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:52:36 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 10:52:41 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 10:52:41 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:52:41 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:52:41 - INFO - sqlalchemy.engine.Engine - [cached since 2885s ago] ()
2025-02-27 10:52:41 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:52:41 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.022s
2025-02-27 10:58:25 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.067s
2025-02-27 10:58:25 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.134s
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - [cached since 3229s ago] ()
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:58:25 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.271s
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - [cached since 3229s ago] ()
2025-02-27 10:58:25 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 10:58:25 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.058s
2025-02-27 11:01:52 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 11:01:52 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:01:52 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:01:52 - INFO - sqlalchemy.engine.Engine - [cached since 3436s ago] ()
2025-02-27 11:01:52 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:01:52 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.046s
2025-02-27 11:01:56 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 11:01:56 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:01:56 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:01:56 - INFO - sqlalchemy.engine.Engine - [cached since 3440s ago] ()
2025-02-27 11:01:56 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:01:56 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 11:02:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 11:02:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:02:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:02:10 - INFO - sqlalchemy.engine.Engine - [cached since 3454s ago] ()
2025-02-27 11:02:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:02:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 11:43:00 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.039s
2025-02-27 11:43:00 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:43:00 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:43:00 - INFO - sqlalchemy.engine.Engine - [cached since 5904s ago] ()
2025-02-27 11:43:00 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:43:00 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.211s
2025-02-27 11:43:12 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 11:43:12 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:43:12 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:43:12 - INFO - sqlalchemy.engine.Engine - [cached since 5916s ago] ()
2025-02-27 11:43:12 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:43:12 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 11:53:54 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.018s
2025-02-27 11:53:54 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.007s
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - [cached since 6558s ago] ()
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:53:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.227s
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - [cached since 6558s ago] ()
2025-02-27 11:53:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 11:53:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.041s
2025-02-27 12:12:55 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.011s
2025-02-27 12:12:55 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - [cached since 7699s ago] ()
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:12:55 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.121s
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - [cached since 7699s ago] ()
2025-02-27 12:12:55 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:12:55 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 12:13:45 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 12:13:45 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - [cached since 7749s ago] ()
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:13:45 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.050s
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - [cached since 7749s ago] ()
2025-02-27 12:13:45 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:13:45 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.041s
2025-02-27 12:24:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.018s
2025-02-27 12:24:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - [cached since 8384s ago] ()
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:24:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.154s
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - [cached since 8384s ago] ()
2025-02-27 12:24:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:24:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.036s
2025-02-27 12:30:53 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.020s
2025-02-27 12:30:53 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - [cached since 8778s ago] ()
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:30:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.185s
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - [cached since 8778s ago] ()
2025-02-27 12:30:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:30:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 12:31:36 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:31:36 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:36 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:36 - INFO - sqlalchemy.engine.Engine - [cached since 8820s ago] ()
2025-02-27 12:31:36 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:36 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.049s
2025-02-27 12:31:37 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:31:37 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:37 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:37 - INFO - sqlalchemy.engine.Engine - [cached since 8821s ago] ()
2025-02-27 12:31:37 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:37 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 12:31:39 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 12:31:39 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:39 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:39 - INFO - sqlalchemy.engine.Engine - [cached since 8823s ago] ()
2025-02-27 12:31:39 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:39 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.029s
2025-02-27 12:31:40 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:31:40 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:40 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:40 - INFO - sqlalchemy.engine.Engine - [cached since 8824s ago] ()
2025-02-27 12:31:40 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:40 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.034s
2025-02-27 12:31:42 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:31:42 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:42 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:42 - INFO - sqlalchemy.engine.Engine - [cached since 8826s ago] ()
2025-02-27 12:31:42 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:42 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 12:31:46 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 12:31:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:46 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:46 - INFO - sqlalchemy.engine.Engine - [cached since 8830s ago] ()
2025-02-27 12:31:46 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:46 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.016s
2025-02-27 12:31:49 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:31:49 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - [cached since 8833s ago] ()
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:49 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.044s
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - [cached since 8833s ago] ()
2025-02-27 12:31:49 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:49 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 12:31:59 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 12:31:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:31:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:31:59 - INFO - sqlalchemy.engine.Engine - [cached since 8843s ago] ()
2025-02-27 12:31:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:31:59 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.019s
2025-02-27 12:37:23 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.021s
2025-02-27 12:37:23 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:23 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:23 - INFO - sqlalchemy.engine.Engine - [cached since 9167s ago] ()
2025-02-27 12:37:23 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:23 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.187s
2025-02-27 12:37:38 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:37:38 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:38 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:38 - INFO - sqlalchemy.engine.Engine - [cached since 9182s ago] ()
2025-02-27 12:37:38 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:38 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.034s
2025-02-27 12:37:42 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:37:42 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:42 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:42 - INFO - sqlalchemy.engine.Engine - [cached since 9185s ago] ()
2025-02-27 12:37:42 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:42 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.026s
2025-02-27 12:37:46 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:37:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:46 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:46 - INFO - sqlalchemy.engine.Engine - [cached since 9190s ago] ()
2025-02-27 12:37:46 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:46 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.033s
2025-02-27 12:37:50 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 12:37:50 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:50 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:50 - INFO - sqlalchemy.engine.Engine - [cached since 9194s ago] ()
2025-02-27 12:37:50 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:50 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.033s
2025-02-27 12:37:52 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:37:52 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:52 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:52 - INFO - sqlalchemy.engine.Engine - [cached since 9196s ago] ()
2025-02-27 12:37:52 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:52 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.035s
2025-02-27 12:37:54 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:37:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:54 - INFO - sqlalchemy.engine.Engine - [cached since 9198s ago] ()
2025-02-27 12:37:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.019s
2025-02-27 12:37:55 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:37:55 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:37:55 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:37:55 - INFO - sqlalchemy.engine.Engine - [cached since 9199s ago] ()
2025-02-27 12:37:55 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:37:55 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 12:38:05 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:38:05 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:38:05 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:38:05 - INFO - sqlalchemy.engine.Engine - [cached since 9209s ago] ()
2025-02-27 12:38:05 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:38:05 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 12:38:08 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:38:08 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:38:08 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:38:08 - INFO - sqlalchemy.engine.Engine - [cached since 9212s ago] ()
2025-02-27 12:38:08 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:38:08 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.022s
2025-02-27 12:38:13 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:38:13 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:38:13 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:38:13 - INFO - sqlalchemy.engine.Engine - [cached since 9217s ago] ()
2025-02-27 12:38:13 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:38:13 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 12:38:32 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:38:32 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:38:32 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:38:32 - INFO - sqlalchemy.engine.Engine - [cached since 9236s ago] ()
2025-02-27 12:38:32 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:38:32 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 12:40:38 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.021s
2025-02-27 12:40:38 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - [cached since 9362s ago] ()
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:40:38 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.171s
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - [cached since 9362s ago] ()
2025-02-27 12:40:38 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:40:38 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 12:42:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 12:42:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - [cached since 9458s ago] ()
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:42:14 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.049s
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - [cached since 9458s ago] ()
2025-02-27 12:42:14 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:42:14 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 12:43:51 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 12:43:51 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - [cached since 9555s ago] ()
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:43:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.049s
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - [cached since 9555s ago] ()
2025-02-27 12:43:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:43:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 12:44:26 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:44:26 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - [cached since 9590s ago] ()
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:44:26 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.033s
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - [cached since 9590s ago] ()
2025-02-27 12:44:26 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:44:26 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 12:46:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.007s
2025-02-27 12:46:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - [cached since 9698s ago] ()
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:46:14 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.055s
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - [cached since 9698s ago] ()
2025-02-27 12:46:14 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:46:14 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.041s
2025-02-27 12:48:08 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.007s
2025-02-27 12:48:08 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - [cached since 9812s ago] ()
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:48:08 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.076s
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - [cached since 9812s ago] ()
2025-02-27 12:48:08 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:48:08 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.015s
2025-02-27 12:48:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:48:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - [cached since 9852s ago] ()
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:48:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - [cached since 9852s ago] ()
2025-02-27 12:48:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:48:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 12:51:11 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.012s
2025-02-27 12:51:11 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 12:51:11 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:51:11 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:51:11 - INFO - sqlalchemy.engine.Engine - [cached since 9995s ago] ()
2025-02-27 12:51:12 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:51:12 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.136s
2025-02-27 12:51:12 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:51:12 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:51:12 - INFO - sqlalchemy.engine.Engine - [cached since 9995s ago] ()
2025-02-27 12:51:12 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:51:12 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.036s
2025-02-27 12:53:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 12:53:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - [cached since 1.012e+04s ago] ()
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:53:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - [cached since 1.012e+04s ago] ()
2025-02-27 12:53:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:53:20 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 12:55:01 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.022s
2025-02-27 12:55:01 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - [cached since 1.022e+04s ago] ()
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:55:01 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.200s
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - [cached since 1.023e+04s ago] ()
2025-02-27 12:55:01 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 12:55:01 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.056s
2025-02-27 13:00:56 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.068s
2025-02-27 13:00:57 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.150s
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - [cached since 1.058e+04s ago] ()
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:00:57 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.313s
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - [cached since 1.058e+04s ago] ()
2025-02-27 13:00:57 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:00:57 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.078s
2025-02-27 13:03:50 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.011s
2025-02-27 13:03:50 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - [cached since 1.075e+04s ago] ()
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:03:50 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.100s
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - [cached since 1.075e+04s ago] ()
2025-02-27 13:03:50 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:03:50 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 13:07:08 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.026s
2025-02-27 13:07:09 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.127s
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - [cached since 1.095e+04s ago] ()
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:07:09 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.272s
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - [cached since 1.095e+04s ago] ()
2025-02-27 13:07:09 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:07:09 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.046s
2025-02-27 13:09:15 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.022s
2025-02-27 13:09:15 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - [cached since 1.108e+04s ago] ()
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:09:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.169s
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - [cached since 1.108e+04s ago] ()
2025-02-27 13:09:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:09:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.042s
2025-02-27 13:10:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.067s
2025-02-27 13:10:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.116s
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - [cached since 1.113e+04s ago] ()
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:10:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.275s
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - [cached since 1.113e+04s ago] ()
2025-02-27 13:10:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:10:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.041s
2025-02-27 13:42:07 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.020s
2025-02-27 13:42:07 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - [cached since 1.305e+04s ago] ()
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:42:07 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.171s
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - [cached since 1.305e+04s ago] ()
2025-02-27 13:42:07 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:42:07 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 13:42:37 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 13:42:37 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - [cached since 1.308e+04s ago] ()
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:42:37 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.035s
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - [cached since 1.308e+04s ago] ()
2025-02-27 13:42:37 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:42:37 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 13:42:56 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 13:42:56 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - [cached since 1.31e+04s ago] ()
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:42:56 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - [cached since 1.31e+04s ago] ()
2025-02-27 13:42:56 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:42:56 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 13:44:05 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 13:44:05 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - [cached since 1.317e+04s ago] ()
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:44:05 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - [cached since 1.317e+04s ago] ()
2025-02-27 13:44:05 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:44:05 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 13:45:15 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 13:45:15 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - [cached since 1.324e+04s ago] ()
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:45:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.039s
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - [cached since 1.324e+04s ago] ()
2025-02-27 13:45:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:45:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.033s
2025-02-27 13:48:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.013s
2025-02-27 13:48:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - [cached since 1.341e+04s ago] ()
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:48:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.117s
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - [cached since 1.341e+04s ago] ()
2025-02-27 13:48:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 13:48:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 13:48:26 - DEBUG - app.routers.template - Received file for field extraction: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 13:48:26,833 - app.services.field_extractor - DEBUG - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 13:48:26 - DEBUG - app.services.field_extractor - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 13:48:26,866 - app.services.field_extractor - DEBUG - File content read successfully, size: 274818 bytes
2025-02-27 13:48:26 - DEBUG - app.services.field_extractor - File content read successfully, size: 274818 bytes
2025-02-27 13:48:26,875 - app.services.field_extractor - DEBUG - Starting text extraction from docx content
2025-02-27 13:48:26 - DEBUG - app.services.field_extractor - Starting text extraction from docx content
2025-02-27 13:48:27,472 - app.services.field_extractor - DEBUG - Successfully extracted text, length: 15425 chars
2025-02-27 13:48:27 - DEBUG - app.services.field_extractor - Successfully extracted text, length: 15425 chars
2025-02-27 13:48:27,480 - app.services.field_extractor - DEBUG - Text extracted from document, length: 15425 chars
2025-02-27 13:48:27 - DEBUG - app.services.field_extractor - Text extracted from document, length: 15425 chars
2025-02-27 13:48:27,511 - app.services.field_extractor - INFO - Extracted 0 fields from document
2025-02-27 13:48:27 - INFO - app.services.field_extractor - Extracted 0 fields from document
2025-02-27 13:48:27,521 - app.services.field_extractor - DEBUG - Extracted fields: []
2025-02-27 13:48:27 - DEBUG - app.services.field_extractor - Extracted fields: []
2025-02-27 13:48:27 - INFO - app.routers.template - Successfully extracted 0 fields
2025-02-27 13:48:27 - DEBUG - app.core.middleware - Request: POST /templates/extract - Time: 1.030s
2025-02-27 14:53:32 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.044s
2025-02-27 14:53:32 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - [cached since 1.734e+04s ago] ()
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:53:33 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.287s
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - [cached since 1.734e+04s ago] ()
2025-02-27 14:53:33 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:53:33 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 14:55:01 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.013s
2025-02-27 14:55:01 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - [cached since 1.743e+04s ago] ()
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:55:01 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.159s
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - [cached since 1.743e+04s ago] ()
2025-02-27 14:55:01 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:55:01 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.048s
2025-02-27 14:55:28 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 14:55:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:55:28 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:55:28 - INFO - sqlalchemy.engine.Engine - [cached since 1.745e+04s ago] ()
2025-02-27 14:55:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:55:28 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.037s
2025-02-27 14:57:18 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.013s
2025-02-27 14:57:18 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - [cached since 1.756e+04s ago] ()
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:57:18 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.099s
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - [cached since 1.756e+04s ago] ()
2025-02-27 14:57:18 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:57:18 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.042s
2025-02-27 14:58:36 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 14:58:36 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 14:58:36 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 14:58:36 - INFO - sqlalchemy.engine.Engine - [cached since 1.764e+04s ago] ()
2025-02-27 14:58:36 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 14:58:36 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 15:01:40 - DEBUG - app.routers.template - Received file for field extraction: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:01:40,241 - app.services.field_extractor - DEBUG - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:01:40 - DEBUG - app.services.field_extractor - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:01:40,252 - app.services.field_extractor - DEBUG - File content read successfully, size: 274818 bytes
2025-02-27 15:01:40 - DEBUG - app.services.field_extractor - File content read successfully, size: 274818 bytes
2025-02-27 15:01:40,262 - app.services.field_extractor - DEBUG - Starting text extraction from docx content
2025-02-27 15:01:40 - DEBUG - app.services.field_extractor - Starting text extraction from docx content
2025-02-27 15:01:40,548 - app.services.field_extractor - DEBUG - Successfully extracted text, length: 15425 chars
2025-02-27 15:01:40 - DEBUG - app.services.field_extractor - Successfully extracted text, length: 15425 chars
2025-02-27 15:01:40,552 - app.services.field_extractor - DEBUG - Text extracted from document, length: 15425 chars
2025-02-27 15:01:40 - DEBUG - app.services.field_extractor - Text extracted from document, length: 15425 chars
2025-02-27 15:01:40,558 - app.services.field_extractor - INFO - Extracted 0 fields from document
2025-02-27 15:01:40 - INFO - app.services.field_extractor - Extracted 0 fields from document
2025-02-27 15:01:40,566 - app.services.field_extractor - DEBUG - Extracted fields: []
2025-02-27 15:01:40 - DEBUG - app.services.field_extractor - Extracted fields: []
2025-02-27 15:01:40 - INFO - app.routers.template - Successfully extracted 0 fields
2025-02-27 15:01:40 - DEBUG - app.core.middleware - Request: POST /templates/extract - Time: 0.487s
2025-02-27 15:03:28 - DEBUG - app.routers.template - Received file for field extraction: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:03:28,046 - app.services.field_extractor - DEBUG - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:03:28 - DEBUG - app.services.field_extractor - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:03:28,055 - app.services.field_extractor - DEBUG - File content read successfully, size: 274818 bytes
2025-02-27 15:03:28 - DEBUG - app.services.field_extractor - File content read successfully, size: 274818 bytes
2025-02-27 15:03:28,063 - app.services.field_extractor - DEBUG - Starting text extraction from docx content
2025-02-27 15:03:28 - DEBUG - app.services.field_extractor - Starting text extraction from docx content
2025-02-27 15:03:28,134 - app.services.field_extractor - DEBUG - Successfully extracted text, length: 15425 chars
2025-02-27 15:03:28 - DEBUG - app.services.field_extractor - Successfully extracted text, length: 15425 chars
2025-02-27 15:03:28,138 - app.services.field_extractor - DEBUG - Text extracted from document, length: 15425 chars
2025-02-27 15:03:28 - DEBUG - app.services.field_extractor - Text extracted from document, length: 15425 chars
2025-02-27 15:03:28,141 - app.services.field_extractor - INFO - Extracted 0 fields from document
2025-02-27 15:03:28 - INFO - app.services.field_extractor - Extracted 0 fields from document
2025-02-27 15:03:28,147 - app.services.field_extractor - DEBUG - Extracted fields: []
2025-02-27 15:03:28 - DEBUG - app.services.field_extractor - Extracted fields: []
2025-02-27 15:03:28 - INFO - app.routers.template - Successfully extracted 0 fields
2025-02-27 15:03:28 - DEBUG - app.core.middleware - Request: POST /templates/extract - Time: 0.150s
2025-02-27 15:03:49 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.014s
2025-02-27 15:03:49 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.012s
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - [cached since 1.795e+04s ago] ()
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:03:49 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.311s
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - [cached since 1.795e+04s ago] ()
2025-02-27 15:03:49 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:03:49 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.055s
2025-02-27 15:04:01 - DEBUG - app.routers.template - Received file for field extraction: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:04:01,415 - app.services.field_extractor - DEBUG - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:04:01 - DEBUG - app.services.field_extractor - Starting field extraction for file: Agent_agreement AA-01-19.docx (type: application/vnd.openxmlformats-officedocument.wordprocessingml.document)
2025-02-27 15:04:01,417 - app.services.field_extractor - DEBUG - File content read successfully, size: 274818 bytes
2025-02-27 15:04:01 - DEBUG - app.services.field_extractor - File content read successfully, size: 274818 bytes
2025-02-27 15:04:01,425 - app.services.field_extractor - DEBUG - Starting text extraction from docx content
2025-02-27 15:04:01 - DEBUG - app.services.field_extractor - Starting text extraction from docx content
2025-02-27 15:04:01,500 - app.services.field_extractor - DEBUG - Successfully extracted text, length: 15425 chars
2025-02-27 15:04:01 - DEBUG - app.services.field_extractor - Successfully extracted text, length: 15425 chars
2025-02-27 15:04:01,505 - app.services.field_extractor - DEBUG - Text extracted from document, length: 15425 chars
2025-02-27 15:04:01 - DEBUG - app.services.field_extractor - Text extracted from document, length: 15425 chars
2025-02-27 15:04:01,511 - app.services.field_extractor - INFO - Extracted 0 fields from document
2025-02-27 15:04:01 - INFO - app.services.field_extractor - Extracted 0 fields from document
2025-02-27 15:04:01,516 - app.services.field_extractor - DEBUG - Extracted fields: []
2025-02-27 15:04:01 - DEBUG - app.services.field_extractor - Extracted fields: []
2025-02-27 15:04:01 - INFO - app.routers.template - Successfully extracted 0 fields
2025-02-27 15:04:01 - DEBUG - app.core.middleware - Request: POST /templates/extract - Time: 0.121s
2025-02-27 15:05:47 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 15:05:47 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 15:05:47 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 15:05:47 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\53eed962-2e38-415b-ba62-d24aa069a75a_Agent_agreement AA-01-19.docx
2025-02-27 15:05:47 - ERROR - app.routers.template - Upload failed: 'name' is an invalid keyword argument for Template
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 218, in create_template
    new_template = Template(
                   ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for Template
2025-02-27 15:05:48 - ERROR - app.database - Database session error: 500: 'name' is an invalid keyword argument for Template
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 218, in create_template
    new_template = Template(
                   ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for Template

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: 'name' is an invalid keyword argument for Template
2025-02-27 15:05:48 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.923s
2025-02-27 15:12:47 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 15:12:47 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 15:12:50 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 15:13:10,646 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 15:13:10 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 15:13:10 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 15:13:11 - DEBUG - app - Debug logging enabled
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Templates
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Contracts
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Addendums
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Statistics
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Specifications
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Appendices
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Invoices
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 15:13:11 - DEBUG - app.main - Registered router: Admin
2025-02-27 15:13:11 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 15:13:50 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 15:13:50 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - [generated in 0.00726s] ()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:13:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.800s
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - [cached since 0.08936s ago] ()
2025-02-27 15:13:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:13:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.036s
2025-02-27 15:13:58 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 15:13:58 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 15:13:58 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 15:13:58 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\2bf8ae15-3ee6-428c-99f8-ed2f87e8a87d_Agent_agreement AA-01-19.docx
2025-02-27 15:13:58 - ERROR - app.routers.template - Upload failed: 'name' is an invalid keyword argument for Template
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 218, in create_template
    new_template = Template(
                   ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for Template
2025-02-27 15:13:58 - ERROR - app.database - Database session error: 500: 'name' is an invalid keyword argument for Template
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 218, in create_template
    new_template = Template(
                   ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for Template

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: 'name' is an invalid keyword argument for Template
2025-02-27 15:13:58 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.135s
2025-02-27 15:15:34 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 15:15:34 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 15:15:35 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 15:15:51,115 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 15:15:51 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 15:15:51 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 15:15:51 - DEBUG - app - Debug logging enabled
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Templates
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Contracts
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Addendums
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Statistics
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Specifications
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Appendices
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Invoices
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 15:15:51 - DEBUG - app.main - Registered router: Admin
2025-02-27 15:15:51 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 15:18:22 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.010s
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - [generated in 0.00391s] ()
2025-02-27 15:18:22 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:18:22 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.384s
2025-02-27 15:18:27 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 15:18:27 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:18:27 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:18:27 - INFO - sqlalchemy.engine.Engine - [cached since 4.265s ago] ()
2025-02-27 15:18:27 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:18:27 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.044s
2025-02-27 15:18:28 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 15:18:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:18:28 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:18:28 - INFO - sqlalchemy.engine.Engine - [cached since 5.312s ago] ()
2025-02-27 15:18:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:18:28 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 15:18:31 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 15:18:31 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:18:31 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:18:31 - INFO - sqlalchemy.engine.Engine - [cached since 8.162s ago] ()
2025-02-27 15:18:31 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:18:31 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.015s
2025-02-27 15:18:34 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 15:18:34 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 15:18:34 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 15:18:34 - INFO - sqlalchemy.engine.Engine - [cached since 11.47s ago] ()
2025-02-27 15:18:34 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 15:18:34 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 15:18:44 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 15:18:44 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 15:18:44 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 15:18:44 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\b5264709-0d83-4c70-8af6-215c4d48b0bc_Agent_agreement AA-01-19.docx
2025-02-27 15:18:44 - ERROR - app.routers.template - Upload failed: 'name' is an invalid keyword argument for Template
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 218, in create_template
    new_template = Template(
                   ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for Template
2025-02-27 15:18:44 - ERROR - app.database - Database session error: 500: 'name' is an invalid keyword argument for Template
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 218, in create_template
    new_template = Template(
                   ^^^^^^^^^
  File "<string>", line 4, in __init__
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'name' is an invalid keyword argument for Template

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: 'name' is an invalid keyword argument for Template
2025-02-27 15:18:44 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.215s
2025-02-27 19:44:20 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.134s
2025-02-27 19:44:28 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:44:28 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:44:31 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 19:44:48,720 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:44:48 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:44:48 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 19:44:49 - DEBUG - app - Debug logging enabled
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Templates
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Contracts
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Addendums
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Statistics
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Specifications
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Appendices
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Invoices
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 19:44:49 - DEBUG - app.main - Registered router: Admin
2025-02-27 19:44:49 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 19:44:49 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.012s
2025-02-27 19:44:49 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.019s
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - [generated in 0.00210s] ()
2025-02-27 19:44:49 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:44:49 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.345s
2025-02-27 19:46:09 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 19:46:09 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 19:46:09 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 19:46:09 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx
2025-02-27 19:46:09 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:46:09 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 19:46:09 - INFO - sqlalchemy.engine.Engine - [generated in 0.00492s] ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx', None)
2025-02-27 19:46:09 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:46:09 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:46:09 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (81, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:46:09.113797+04, 2025-02-27 19:46:09.113797+04, null, contract, []).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\20037be2-2334-47cd-86a3-d3f8fc6bd81b_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:46:09 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.554s
2025-02-27 19:47:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:47:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:47:15 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 19:47:29,975 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:47:29 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:47:30 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 19:47:30 - DEBUG - app - Debug logging enabled
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Templates
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Contracts
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Addendums
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Statistics
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Specifications
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Appendices
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Invoices
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 19:47:30 - DEBUG - app.main - Registered router: Admin
2025-02-27 19:47:30 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 19:47:59 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 19:47:59 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - [generated in 0.00328s] ()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:47:59 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.342s
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - [cached since 0.05227s ago] ()
2025-02-27 19:47:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:47:59 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.019s
2025-02-27 19:48:10 - DEBUG - app.core.middleware - Request: OPTIONS /templates/77 - Time: 0.001s
2025-02-27 19:48:10 - INFO - app.routers.template - Attempting to delete template with ID: 77
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - [generated in 0.00354s] (77,)
2025-02-27 19:48:10 - INFO - app.routers.template - Deleted template file: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\637728eb-cc43-47fa-add4-d95dfefd62ca_APPENDIX-1.docx
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - DELETE FROM templates WHERE templates.id = $1::INTEGER
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - [generated in 0.00689s] (77,)
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 19:48:10 - INFO - app.routers.template - Successfully deleted template: 77
2025-02-27 19:48:10 - DEBUG - app.core.middleware - Request: DELETE /templates/77 - Time: 0.095s
2025-02-27 19:48:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - [cached since 10.3s ago] ()
2025-02-27 19:48:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:48:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.026s
2025-02-27 19:48:26 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 19:48:26 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 19:48:26 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 19:48:26 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx
2025-02-27 19:48:26 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:48:26 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 19:48:26 - INFO - sqlalchemy.engine.Engine - [generated in 0.00350s] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx', None)
2025-02-27 19:48:26 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:48:26 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:48:26 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (82, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:48:26.335206+04, 2025-02-27 19:48:26.335206+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\b336d0ec-744e-4f11-9066-8e9a9276dd7c_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:48:26 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.194s
2025-02-27 19:49:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:49:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:49:15 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 19:49:27,043 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:49:27 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:49:27 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 19:49:27 - DEBUG - app - Debug logging enabled
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Templates
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Contracts
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Addendums
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Statistics
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Specifications
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Appendices
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Invoices
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 19:49:27 - DEBUG - app.main - Registered router: Admin
2025-02-27 19:49:27 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.display_name = $1::VARCHAR
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - [generated in 0.00194s] ('Test',)
2025-02-27 19:49:32 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 19:49:32 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 19:49:32 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 19:49:32 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - [generated in 0.00357s] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx', None)
2025-02-27 19:49:32 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:49:32 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 236, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:49:32 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 236, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (83, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:49:32.160652+04, 2025-02-27 19:49:32.160652+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\cb4efb36-6b2f-4b9c-bc45-399682393abc_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:49:32 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.393s
2025-02-27 19:52:55 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:52:55 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:52:56 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 19:53:09,771 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:53:09 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:53:09 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 19:53:10 - DEBUG - app - Debug logging enabled
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Templates
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Contracts
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Addendums
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Statistics
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Specifications
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Appendices
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Invoices
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 19:53:10 - DEBUG - app.main - Registered router: Admin
2025-02-27 19:53:10 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 19:55:21 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 19:55:21 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 19:55:21 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 19:55:21 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - [generated in 0.00378s] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx', None)
2025-02-27 19:55:21 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:55:21 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:55:21 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (84, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:55:21.420393+04, 2025-02-27 19:55:21.420393+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\6866d984-b0d7-4836-a5de-68445d103609_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:55:21 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.448s
2025-02-27 19:55:25 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:55:25 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:55:27 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 19:55:41,314 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:55:41 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 19:55:41 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 19:55:41 - DEBUG - app - Debug logging enabled
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Templates
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Contracts
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Addendums
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Statistics
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Specifications
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Appendices
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Invoices
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 19:55:41 - DEBUG - app.main - Registered router: Admin
2025-02-27 19:55:41 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 19:59:33 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:59:33 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 19:59:33 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'templates')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00387s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'template_type')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00152s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'display_name')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00151s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'fields')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00229s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'file_path')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00130s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'user_id')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00229s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'created_at')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00182s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'updated_at')
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - [generated in 0.00282s] ()
2025-02-27 19:59:33 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 19:59:42 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 19:59:42 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 19:59:42 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 19:59:42 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - [generated in 0.00642s] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx', None)
2025-02-27 19:59:42 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 19:59:42 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:59:42 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (85, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 19:59:42.824513+04, 2025-02-27 19:59:42.824513+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\c01a9a7a-053a-44da-8b76-cd4597a3b4e2_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 19:59:42 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.909s
2025-02-27 20:00:00 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:00:00 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:00:00 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'templates')
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - [generated in 0.00201s] ()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'template_type')
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - [generated in 0.00116s] ()
2025-02-27 20:00:00 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:00:06 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 20:00:06 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 20:00:06 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 20:00:06 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx
2025-02-27 20:00:06 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:00:06 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 20:00:06 - INFO - sqlalchemy.engine.Engine - [cached since 23.51s ago] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx', None)
2025-02-27 20:00:06 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:00:06 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 20:00:06 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (86, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:00:06.33248+04, 2025-02-27 20:00:06.33248+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\9cc9295d-b30b-46d5-a340-ff100ad6c8eb_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 20:00:06 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.104s
2025-02-27 20:05:23 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:05:23 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:05:23 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'templates')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00186s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'template_type')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00191s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'display_name')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00157s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'fields')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00474s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'file_path')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00150s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'user_id')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00112s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'created_at')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00129s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'updated_at')
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - [generated in 0.00193s] ()
2025-02-27 20:05:24 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 20:05:43 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:05:43 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:05:43 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:06:07 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:06:07 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:06:08 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:06:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:06:13 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:06:13 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'templates')
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - [generated in 0.00304s] ()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'template_type')
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - [generated in 0.00111s] ()
2025-02-27 20:06:13 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:08:21 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:08:21 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:08:21 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:08:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:08:37 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:08:37 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'templates')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00239s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'template_type')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00140s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'display_name')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00193s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'fields')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00150s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'file_path')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00130s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'user_id')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00176s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'created_at')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00138s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'updated_at')
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - [generated in 0.00161s] ()
2025-02-27 20:08:37 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 20:08:44 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:08:44 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:08:44 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:09:23 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:09:23 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:09:23 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:09:28 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:09:28 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:09:28 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'templates')
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - [generated in 0.00201s] ()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - SELECT EXISTS (SELECT FROM information_schema.columns WHERE table_name = 'templates' AND column_name = 'template_type')
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - [generated in 0.00159s] ()
2025-02-27 20:09:28 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:09:33 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:09:33 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:09:33 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:10:41 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 20:10:41 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 20:10:41 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 20:10:41 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx
2025-02-27 20:10:41 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:10:41 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 20:10:41 - INFO - sqlalchemy.engine.Engine - [cached since 659.1s ago] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx', None)
2025-02-27 20:10:41 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:10:41 - ERROR - app.routers.template - Upload failed: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 20:10:41 - ERROR - app.database - Database session error: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 57, in upload_template
    template = await TemplateManager.create_template(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\services\template_service.py", line 225, in create_template
    await db.commit()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 73, in upload_template
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: значение NULL в столбце "name" отношения "templates" нарушает ограничение NOT NULL
DETAIL:  Ошибочная строка содержит (87, null, Test, C:\Users\АлександрТатауров\OneDrive - Individua..., null, 2025-02-27 20:10:41.879882+04, 2025-02-27 20:10:41.879882+04, null, contract, ["1312312"]).
[SQL: INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at]
[parameters: ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\010a1dc2-17c6-4a01-afaf-2b5054e08221_Agent_agreement AA-01-19.docx', None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-02-27 20:10:41 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.366s
2025-02-27 20:10:52 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:10:52 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:10:54 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:11:11,360 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 20:11:11 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 20:11:11 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 20:11:11 - DEBUG - app - Debug logging enabled
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Templates
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Contracts
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Addendums
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Statistics
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Specifications
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Appendices
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Invoices
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 20:11:11 - DEBUG - app.main - Registered router: Admin
2025-02-27 20:11:11 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 20:12:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:12:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:12:51 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:12:59 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:12:59 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:12:59 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:13:38 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:13:38 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:13:38 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:13:46 - DEBUG - app.services.template_service - Starting file save for: Agent_agreement AA-01-19.docx
2025-02-27 20:13:46 - DEBUG - app.services.template_service - File details - Size: 274818, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 20:13:46 - DEBUG - app.services.template_service - Read 274818 bytes from uploaded file
2025-02-27 20:13:46 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\59647e3d-66e4-48ed-937b-23767f110b91_Agent_agreement AA-01-19.docx
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - [generated in 0.00367s] ('contract', 'Test', '["1312312"]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\59647e3d-66e4-48ed-937b-23767f110b91_Agent_agreement AA-01-19.docx', None)
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - [generated in 0.00385s] (88,)
2025-02-27 20:13:46 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:13:46 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.398s
2025-02-27 20:13:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:13:51 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:13:53 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:14:06,262 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 20:14:06 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 20:14:06 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 20:14:06 - DEBUG - app - Debug logging enabled
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Templates
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Contracts
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Addendums
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Statistics
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Specifications
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Appendices
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Invoices
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 20:14:06 - DEBUG - app.main - Registered router: Admin
2025-02-27 20:14:06 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 20:14:06 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 20:14:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - [generated in 0.00194s] ()
2025-02-27 20:14:11 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:14:11 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.303s
2025-02-27 20:14:18 - DEBUG - app.core.middleware - Request: OPTIONS /templates/update - Time: 0.001s
2025-02-27 20:14:18 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.001s
2025-02-27 20:18:02 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.120s
2025-02-27 20:18:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.566s
2025-02-27 20:18:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:18:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:18:03 - INFO - sqlalchemy.engine.Engine - [cached since 232.6s ago] ()
2025-02-27 20:18:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:18:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.830s
2025-02-27 20:18:04 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:18:04 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:18:04 - INFO - sqlalchemy.engine.Engine - [cached since 232.8s ago] ()
2025-02-27 20:18:04 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:18:04 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.073s
2025-02-27 20:18:09 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.007s
2025-02-27 20:18:12 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 20:18:12 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:18:12 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:18:12 - INFO - sqlalchemy.engine.Engine - [cached since 241.4s ago] ()
2025-02-27 20:18:12 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:18:12 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.027s
2025-02-27 20:18:19 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.004s
2025-02-27 20:26:21 - DEBUG - app.core.middleware - Request: GET /docs - Time: 0.063s
2025-02-27 20:26:22 - DEBUG - app.core.middleware - Request: GET /openapi.json - Time: 0.551s
2025-02-27 20:26:48 - INFO - app.routers.template - Received update request for template 83
2025-02-27 20:26:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:26:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:26:48 - INFO - sqlalchemy.engine.Engine - [generated in 0.00806s] (83,)
2025-02-27 20:26:48 - ERROR - app.database - Database session error: 404: Template not found
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 118, in update_template
    raise HTTPException(status_code=404, detail="Template not found")
fastapi.exceptions.HTTPException: 404: Template not found
2025-02-27 20:26:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:26:48 - DEBUG - app.core.middleware - Request: POST /templates/templates/update - Time: 0.428s
2025-02-27 20:37:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.034s
2025-02-27 20:37:14 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.009s
2025-02-27 20:37:14 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:37:14 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:37:14 - INFO - sqlalchemy.engine.Engine - [cached since 1384s ago] ()
2025-02-27 20:37:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:37:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.701s
2025-02-27 20:37:15 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:37:15 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:37:15 - INFO - sqlalchemy.engine.Engine - [cached since 1384s ago] ()
2025-02-27 20:37:15 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:37:15 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.057s
2025-02-27 20:37:20 - INFO - app.routers.template - Received update request for template 78
2025-02-27 20:37:20 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:37:20 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:37:20 - INFO - sqlalchemy.engine.Engine - [cached since 631.6s ago] (78,)
2025-02-27 20:37:20 - ERROR - app.routers.template - Invalid JSON in fields: Expecting value: line 1 column 1 (char 0)
2025-02-27 20:37:20 - ERROR - app.database - Database session error: 422: Invalid fields format
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 126, in update_template
    template.fields = json.loads(fields)
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 129, in update_template
    raise HTTPException(status_code=422, detail="Invalid fields format")
fastapi.exceptions.HTTPException: 422: Invalid fields format
2025-02-27 20:37:20 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:37:20 - DEBUG - app.core.middleware - Request: POST /templates/templates/update - Time: 0.328s
2025-02-27 20:37:31 - INFO - app.routers.template - Received update request for template 78
2025-02-27 20:37:31 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:37:31 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:37:31 - INFO - sqlalchemy.engine.Engine - [cached since 642.7s ago] (78,)
2025-02-27 20:37:31 - ERROR - app.routers.template - Invalid JSON in fields: Expecting value: line 1 column 1 (char 0)
2025-02-27 20:37:31 - ERROR - app.database - Database session error: 422: Invalid fields format
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 126, in update_template
    template.fields = json.loads(fields)
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 129, in update_template
    raise HTTPException(status_code=422, detail="Invalid fields format")
fastapi.exceptions.HTTPException: 422: Invalid fields format
2025-02-27 20:37:31 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:37:31 - DEBUG - app.core.middleware - Request: POST /templates/templates/update - Time: 0.085s
2025-02-27 20:38:44 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:38:44 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 20:38:47 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 20:39:10,618 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 20:39:10 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 20:39:10 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 20:39:11 - DEBUG - app - Debug logging enabled
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Templates
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Contracts
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Addendums
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Statistics
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Specifications
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Appendices
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Invoices
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 20:39:11 - DEBUG - app.main - Registered router: Admin
2025-02-27 20:39:11 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 20:39:11 - DEBUG - app.core.middleware - Request: GET /docs - Time: 0.003s
2025-02-27 20:39:12 - DEBUG - app.core.middleware - Request: GET /openapi.json - Time: 0.095s
2025-02-27 20:39:26 - DEBUG - app.core.middleware - Request: OPTIONS /templates/update - Time: 0.001s
2025-02-27 20:39:26 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.021s
2025-02-27 20:40:10 - DEBUG - app.core.middleware - Request: OPTIONS /templates/78 - Time: 0.002s
2025-02-27 20:40:10 - INFO - app.routers.template - Attempting to delete template with ID: 78
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - [generated in 0.00400s] (78,)
2025-02-27 20:40:10 - INFO - app.routers.template - Deleted template file: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\490dc0c4-af90-458b-9673-4728f73cbc00_SPEC-2_loading.docx
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - DELETE FROM templates WHERE templates.id = $1::INTEGER
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - [generated in 0.00376s] (78,)
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 20:40:10 - INFO - app.routers.template - Successfully deleted template: 78
2025-02-27 20:40:10 - DEBUG - app.core.middleware - Request: DELETE /templates/78 - Time: 0.493s
2025-02-27 20:40:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - [generated in 0.00770s] ()
2025-02-27 20:40:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:40:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.044s
2025-02-27 20:43:48 - DEBUG - app.core.middleware - Request: OPTIONS /templates/88 - Time: 0.002s
2025-02-27 20:43:48 - INFO - app.routers.template - Attempting to delete template with ID: 88
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - [cached since 217.9s ago] (88,)
2025-02-27 20:43:48 - INFO - app.routers.template - Deleted template file: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\59647e3d-66e4-48ed-937b-23767f110b91_Agent_agreement AA-01-19.docx
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - DELETE FROM templates WHERE templates.id = $1::INTEGER
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - [cached since 217.9s ago] (88,)
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 20:43:48 - INFO - app.routers.template - Successfully deleted template: 88
2025-02-27 20:43:48 - DEBUG - app.core.middleware - Request: DELETE /templates/88 - Time: 0.074s
2025-02-27 20:43:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - [cached since 217.9s ago] ()
2025-02-27 20:43:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:43:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.055s
2025-02-27 20:43:51 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.006s
2025-02-27 20:44:34 - INFO - app.routers.template - Received update request for template 79
2025-02-27 20:44:34 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:44:34 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:44:34 - INFO - sqlalchemy.engine.Engine - [cached since 263.7s ago] (79,)
2025-02-27 20:44:34 - ERROR - app.routers.template - Invalid JSON in fields: Expecting value: line 1 column 1 (char 0)
2025-02-27 20:44:34 - ERROR - app.database - Database session error: 422: Invalid fields format
Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 126, in update_template
    template.fields = json.loads(fields)
                      ^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\database.py", line 35, in get_db
    yield session
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\routers\template.py", line 129, in update_template
    raise HTTPException(status_code=422, detail="Invalid fields format")
fastapi.exceptions.HTTPException: 422: Invalid fields format
2025-02-27 20:44:34 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:44:34 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.178s
2025-02-27 20:54:33 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.057s
2025-02-27 20:54:33 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:54:33 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:54:33 - INFO - sqlalchemy.engine.Engine - [cached since 862.7s ago] ()
2025-02-27 20:54:33 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:54:33 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.232s
2025-02-27 20:54:50 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 20:54:50 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:54:50 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:54:50 - INFO - sqlalchemy.engine.Engine - [cached since 880.3s ago] ()
2025-02-27 20:54:50 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:54:50 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 20:54:51 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 20:54:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:54:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:54:51 - INFO - sqlalchemy.engine.Engine - [cached since 881s ago] ()
2025-02-27 20:54:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:54:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 20:55:42 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 20:55:42 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:55:42 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:55:42 - INFO - sqlalchemy.engine.Engine - [cached since 932.3s ago] ()
2025-02-27 20:55:42 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:55:42 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 20:55:44 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 20:55:44 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:55:44 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:55:44 - INFO - sqlalchemy.engine.Engine - [cached since 934.3s ago] ()
2025-02-27 20:55:44 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:55:44 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 20:55:46 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 20:55:46 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:55:46 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:55:46 - INFO - sqlalchemy.engine.Engine - [cached since 936s ago] ()
2025-02-27 20:55:46 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:55:46 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 20:55:55 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.009s
2025-02-27 20:55:55 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:55:55 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:55:55 - INFO - sqlalchemy.engine.Engine - [cached since 945.3s ago] ()
2025-02-27 20:55:55 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:55:55 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 20:56:05 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 20:56:05 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:56:05 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:56:05 - INFO - sqlalchemy.engine.Engine - [cached since 955.3s ago] ()
2025-02-27 20:56:05 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:56:05 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.017s
2025-02-27 20:56:36 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 20:56:36 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:56:36 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:56:36 - INFO - sqlalchemy.engine.Engine - [cached since 986.3s ago] ()
2025-02-27 20:56:36 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:56:36 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.029s
2025-02-27 20:57:00 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.007s
2025-02-27 20:57:00 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - [cached since 1010s ago] ()
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:57:00 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.046s
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - [cached since 1010s ago] ()
2025-02-27 20:57:00 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:57:00 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.029s
2025-02-27 20:57:16 - DEBUG - app.services.template_service - Starting file save for: APPENDIX-1.docx
2025-02-27 20:57:16 - DEBUG - app.services.template_service - File details - Size: 62854, Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
2025-02-27 20:57:16 - DEBUG - app.services.template_service - Read 62854 bytes from uploaded file
2025-02-27 20:57:16 - INFO - app.services.template_service - Successfully saved file to: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\27dd87b1-14b6-4552-82db-149bf85635e9_APPENDIX-1.docx
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - INSERT INTO templates (template_type, display_name, fields, file_path, user_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::JSON, $4::VARCHAR, $5::INTEGER) RETURNING templates.id, templates.created_at, templates.updated_at
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - [generated in 0.00409s] ('contract', 'Test', '[]', 'C:\\Users\\АлександрТатауров\\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\\Документы\\Phyton\\contract_update\\backend\\app\\assets\\templates\\27dd87b1-14b6-4552-82db-149bf85635e9_APPENDIX-1.docx', None)
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - [generated in 0.00410s] (89,)
2025-02-27 20:57:16 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:57:16 - DEBUG - app.core.middleware - Request: POST /templates/upload - Time: 0.581s
2025-02-27 20:57:19 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 20:57:19 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:57:19 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:57:19 - INFO - sqlalchemy.engine.Engine - [cached since 1029s ago] ()
2025-02-27 20:57:19 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:57:19 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 20:57:31 - DEBUG - app.core.middleware - Request: OPTIONS /templates/update - Time: 0.002s
2025-02-27 20:57:32 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.022s
2025-02-27 20:58:58 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.006s
2025-02-27 20:58:58 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:58:58 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:58:58 - INFO - sqlalchemy.engine.Engine - [cached since 1128s ago] ()
2025-02-27 20:58:58 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:58:58 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.033s
2025-02-27 20:59:44 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 20:59:44 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:59:44 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:59:44 - INFO - sqlalchemy.engine.Engine - [cached since 1174s ago] ()
2025-02-27 20:59:44 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:59:44 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 20:59:49 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 20:59:49 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 20:59:49 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 20:59:49 - INFO - sqlalchemy.engine.Engine - [cached since 1179s ago] ()
2025-02-27 20:59:49 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 20:59:49 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.019s
2025-02-27 21:00:11 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:00:11 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:00:11 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:00:11 - INFO - sqlalchemy.engine.Engine - [cached since 1201s ago] ()
2025-02-27 21:00:11 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:00:11 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 21:00:34 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:00:34 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:00:34 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:00:34 - INFO - sqlalchemy.engine.Engine - [cached since 1224s ago] ()
2025-02-27 21:00:34 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:00:34 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 21:00:42 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.001s
2025-02-27 21:07:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.023s
2025-02-27 21:07:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:07:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:07:48 - INFO - sqlalchemy.engine.Engine - [cached since 1658s ago] ()
2025-02-27 21:07:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:07:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.140s
2025-02-27 21:08:04 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.006s
2025-02-27 21:08:04 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - [cached since 1674s ago] ()
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:08:04 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.095s
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - [cached since 1674s ago] ()
2025-02-27 21:08:04 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:08:04 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.036s
2025-02-27 21:08:11 - DEBUG - app.core.middleware - Request: OPTIONS /templates/update - Time: 0.004s
2025-02-27 21:08:11 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.036s
2025-02-27 21:08:54 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 21:08:54 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:08:54 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:08:54 - INFO - sqlalchemy.engine.Engine - [cached since 1724s ago] ()
2025-02-27 21:08:54 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:08:54 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.023s
2025-02-27 21:09:15 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.026s
2025-02-27 21:09:27 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.003s
2025-02-27 21:11:33 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.015s
2025-02-27 21:11:42 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 21:11:42 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 21:11:45 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 21:12:09,165 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 21:12:09 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 21:12:09 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 21:12:09 - DEBUG - app - Debug logging enabled
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Templates
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Contracts
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Addendums
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Statistics
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Specifications
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Appendices
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Invoices
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 21:12:09 - DEBUG - app.main - Registered router: Admin
2025-02-27 21:12:09 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 21:12:13 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.010s
2025-02-27 21:17:13 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.013s
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - [generated in 0.00290s] ()
2025-02-27 21:17:13 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:13 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.729s
2025-02-27 21:17:41 - INFO - app.routers.template - Received: template_id=89, display_name=Test, fields=["1"]
2025-02-27 21:17:41 - INFO - app.routers.template - Received update request for template 89
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - [generated in 0.00260s] (89,)
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - UPDATE templates SET fields=$1::JSON, updated_at=now() WHERE templates.id = $2::INTEGER
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - [generated in 0.00198s] ('["1"]', 89)
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - [generated in 0.00263s] (89,)
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:41 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.128s
2025-02-27 21:17:41 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - [cached since 28.05s ago] ()
2025-02-27 21:17:41 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:41 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 21:17:51 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 21:17:51 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - [cached since 37.97s ago] ()
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.031s
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - [cached since 38.01s ago] ()
2025-02-27 21:17:51 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:51 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.030s
2025-02-27 21:17:59 - INFO - app.routers.template - Received: template_id=79, display_name=1234, fields=["1","2"]
2025-02-27 21:17:59 - INFO - app.routers.template - Received update request for template 79
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - [cached since 17.47s ago] (79,)
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - UPDATE templates SET fields=$1::JSON, updated_at=now() WHERE templates.id = $2::INTEGER
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - [cached since 17.46s ago] ('["1", "2"]', 79)
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - [cached since 17.44s ago] (79,)
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:59 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.078s
2025-02-27 21:17:59 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.003s
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - [cached since 45.52s ago] ()
2025-02-27 21:17:59 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:17:59 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.043s
2025-02-27 21:19:16 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:19:22 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 21:19:22 - INFO - app - Logging configured - Level: INFO, File: logs.txt
2025-02-27 21:19:25 - INFO - app.database - Подключение к базе данных успешно настроено.
2025-02-27 21:19:47,130 - app.services.field_extractor - DEBUG - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 21:19:47 - DEBUG - app.services.field_extractor - Модель spaCy xx_ent_wiki_sm успешно загружена
2025-02-27 21:19:47 - INFO - app.services.service_init - All services initialized successfully
2025-02-27 21:19:47 - DEBUG - app - Debug logging enabled
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Templates
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Contracts
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Addendums
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Statistics
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Specifications
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Appendices
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Exchange Rates
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Invoices
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: PDF Export
2025-02-27 21:19:47 - DEBUG - app.main - Registered router: Admin
2025-02-27 21:19:47 - DEBUG - app.core.middleware - Debug middleware enabled
2025-02-27 21:19:47 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.021s
2025-02-27 21:19:47 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.023s
2025-02-27 21:19:47 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.025s
2025-02-27 21:19:47 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.027s
2025-02-27 21:19:47 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.029s
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - select pg_catalog.version()
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - select current_schema()
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - show standard_conforming_strings
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - [raw sql] ()
2025-02-27 21:19:47 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:19:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:19:48 - INFO - sqlalchemy.engine.Engine - [generated in 0.00231s] ()
2025-02-27 21:19:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:19:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.338s
2025-02-27 21:19:58 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:19:58 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:19:58 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:19:58 - INFO - sqlalchemy.engine.Engine - [cached since 10.41s ago] ()
2025-02-27 21:19:58 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:19:58 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.018s
2025-02-27 21:20:03 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 21:20:03 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:20:03 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:20:03 - INFO - sqlalchemy.engine.Engine - [cached since 15.27s ago] ()
2025-02-27 21:20:03 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:20:03 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.051s
2025-02-27 21:20:08 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:20:08 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:20:08 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:20:08 - INFO - sqlalchemy.engine.Engine - [cached since 20.23s ago] ()
2025-02-27 21:20:08 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:20:08 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.047s
2025-02-27 21:20:11 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:20:11 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:20:11 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:20:11 - INFO - sqlalchemy.engine.Engine - [cached since 23.35s ago] ()
2025-02-27 21:20:11 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:20:11 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.022s
2025-02-27 21:20:16 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:20:16 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.004s
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - [cached since 29.07s ago] ()
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:20:17 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.038s
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - [cached since 29.11s ago] ()
2025-02-27 21:20:17 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:20:17 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.029s
2025-02-27 21:20:27 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:20:27 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:20:27 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:20:27 - INFO - sqlalchemy.engine.Engine - [cached since 39.36s ago] ()
2025-02-27 21:20:27 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:20:27 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 21:21:08 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 21:21:08 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:08 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:08 - INFO - sqlalchemy.engine.Engine - [cached since 80.06s ago] ()
2025-02-27 21:21:08 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:08 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.025s
2025-02-27 21:21:09 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:21:09 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:09 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:09 - INFO - sqlalchemy.engine.Engine - [cached since 81.6s ago] ()
2025-02-27 21:21:09 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:09 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.017s
2025-02-27 21:21:21 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 21:21:21 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:21 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:21 - INFO - sqlalchemy.engine.Engine - [cached since 93.89s ago] ()
2025-02-27 21:21:21 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:21 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.020s
2025-02-27 21:21:23 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.001s
2025-02-27 21:21:23 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:23 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:23 - INFO - sqlalchemy.engine.Engine - [cached since 95.6s ago] ()
2025-02-27 21:21:23 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:23 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.021s
2025-02-27 21:21:30 - INFO - app.routers.template - Received update request for template 89
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - [generated in 0.00366s] (89,)
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - UPDATE templates SET fields=$1::JSON, updated_at=now() WHERE templates.id = $2::INTEGER
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - [generated in 0.00239s] ('["1", "2"]', 89)
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - [generated in 0.00330s] (89,)
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:30 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.123s
2025-02-27 21:21:30 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.005s
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - [cached since 102.6s ago] ()
2025-02-27 21:21:30 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:30 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.051s
2025-02-27 21:21:37 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.000s
2025-02-27 21:21:37 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - [cached since 109.5s ago] ()
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:37 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.034s
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - [cached since 109.6s ago] ()
2025-02-27 21:21:37 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:37 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.044s
2025-02-27 21:21:48 - INFO - app.routers.template - Received update request for template 79
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - [cached since 18.18s ago] (79,)
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - UPDATE templates SET display_name=$1::VARCHAR, updated_at=now() WHERE templates.id = $2::INTEGER
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - [generated in 0.00614s] ('12344', 79)
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - [cached since 18.15s ago] (79,)
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:48 - DEBUG - app.core.middleware - Request: POST /templates/update - Time: 0.092s
2025-02-27 21:21:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - [cached since 120.8s ago] ()
2025-02-27 21:21:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:21:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.028s
2025-02-27 21:29:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.016s
2025-02-27 21:29:10 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - [cached since 562.4s ago] ()
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:29:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.311s
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - [cached since 562.5s ago] ()
2025-02-27 21:29:10 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:29:10 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
2025-02-27 21:35:43 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.010s
2025-02-27 21:35:43 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:35:43 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:35:43 - INFO - sqlalchemy.engine.Engine - [cached since 955.6s ago] ()
2025-02-27 21:35:43 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:35:43 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.087s
2025-02-27 21:35:48 - DEBUG - app.core.middleware - Request: OPTIONS /templates/79 - Time: 0.011s
2025-02-27 21:35:48 - INFO - app.routers.template - Attempting to delete template with ID: 79
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type AS templates_template_type, templates.display_name AS templates_display_name, templates.fields AS templates_fields, templates.file_path AS templates_file_path, templates.user_id AS templates_user_id, templates.id AS templates_id, templates.created_at AS templates_created_at, templates.updated_at AS templates_updated_at 
FROM templates 
WHERE templates.id = $1::INTEGER
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - [cached since 858s ago] (79,)
2025-02-27 21:35:48 - INFO - app.routers.template - Deleted template file: C:\Users\АлександрТатауров\OneDrive - Individual Entrepreneur ALEKSANDR TATAUROV\Документы\Phyton\contract_update\backend\app\assets\templates\e45278a5-dcf7-451e-9415-0ad0b5a715c1_APPENDIX-1.docx
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - DELETE FROM templates WHERE templates.id = $1::INTEGER
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - [generated in 0.00436s] (79,)
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - COMMIT
2025-02-27 21:35:48 - INFO - app.routers.template - Successfully deleted template: 79
2025-02-27 21:35:48 - DEBUG - app.core.middleware - Request: DELETE /templates/79 - Time: 0.278s
2025-02-27 21:35:48 - DEBUG - app.core.middleware - Request: GET /templates - Time: 0.002s
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - BEGIN (implicit)
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - SELECT templates.template_type, templates.display_name, templates.fields, templates.file_path, templates.user_id, templates.id, templates.created_at, templates.updated_at 
FROM templates ORDER BY templates.created_at DESC
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - [cached since 960.7s ago] ()
2025-02-27 21:35:48 - INFO - sqlalchemy.engine.Engine - ROLLBACK
2025-02-27 21:35:48 - DEBUG - app.core.middleware - Request: GET /templates/ - Time: 0.032s
